<app-navbar></app-navbar>
<div class="container mt-5 col-auto" style='padding:1%;border:solid; background-color: rgb(255, 255, 255)'>
    <div style="height:400px; overflow:auto;">
        <table class="table table-hover" id="mainTable" style="text-align:center; vertical-align:middle;font-size:120%">
            <thead>
              <tr>
                <th scope="col">Device Name</th>
                <th scope="col">Phone Number</th>
                <th scope="col">Plan</th>
                <th scope="col"></th>
              </tr>
            </thead>
    
            <tbody id="tablebody">
                <ng-container *ngFor= "let up of currentUser.userPlans">
                    <tr *ngFor= "let device of up.devices">
                        <td>{{device.device_name}}</td>
                        <td>{{device.phone_number}}</td>
                        <td>{{up.plan.max_devices}}-devices plan</td>
                        <td><button type="button" class="btn btn-success btn-sm border border-dark" (click) = "doEdit(device); showEdit = !showEdit; this.device.userplan = up">Edit device</button></td>
                          </tr>
                </ng-container>

            </tbody>
    
          </table>
    </div>

</div>
<div *ngIf = "showEdit">
  <app-editdeviceform [device] = "device" ></app-editdeviceform>
</div>
